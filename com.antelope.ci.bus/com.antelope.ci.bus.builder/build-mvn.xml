<?xml version="1.0" encoding="UTF-8"?>
<!-- 
	invoke maven script of ant
	blueantelope blueantelope@gmail.com
	2013-08-19 
==================================================


==================================================
-->
<project name="maven script" basedir=".">
	<property file="build.properties" />

	<target name="framework.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="framework.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="common.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="common.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="osgi.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="osgi.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="bus.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.bus.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="bus.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.bus.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	
	<target name="service.compile">
			<exec executable="${mvn}" failonerror="true">
				<arg line="-f ${prj.service.pom}" />
				<arg line="install" />
			</exec>
		</target>

	<target name="service.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="service.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="service.project.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.project.pom}" />
			<arg line="install" />
		</exec>
	</target>
	
	<target name="service.project.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.project.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="service.project.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.project.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="service.project.realization.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.project.realization.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="service.project.realization.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.project.realization.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="service.project.realization.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.project.realization.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="storage.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="storage.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="storage.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="storage.database.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.database.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="storage.database.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.database.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="storage.database.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.database.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="storage.flatfile.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.flatfile.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="storage.flatfile.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.flatfile.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="storage.flatfile.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.flatfile.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="storage.ldap.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.ldap.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="storage.ldap.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.ldap.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="storage.ldap.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.storage.ldap.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="model.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="model.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="model.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="model.user.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.user.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="model.user.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.user.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="model.user.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.user.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>

	<target name="model.project.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.project.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="model.project.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.project.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="model.project.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.project.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="server.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="server.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="server.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>

	<target name="logger.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="logger.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="logger.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="portal.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="portal.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="portal.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="common.test.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.test.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="common.test.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.test.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	
	<target name="common.test.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.test.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>

	<target name="service.userstorefile.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.userstorefile.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<target name="service.userstorefile.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.userstorefile.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="service.userstorefile.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.service.userstorefile.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="portal.dashboard.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.dashboard.pom}" />
			<arg line="install" />
		</exec>
	</target>
	
	<target name="portal.dashboard.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.dashboard.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="portal.dashboard.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.dashboard.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="portal.project.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.project.pom}" />
			<arg line="install" />
		</exec>
	</target>
	
	<target name="portal.project.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.project.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="portal.project.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.project.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="portal.usecase.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.usecase.pom}" />
			<arg line="install" />
		</exec>
	</target>
	
	<target name="portal.usecase.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.usecase.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="portal.usecase.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.usecase.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="portal.target.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.target.pom}" />
			<arg line="install" />
		</exec>
	</target>
	
	<target name="portal.target.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.target.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="portal.target.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.target.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="portal.version.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.version.pom}" />
			<arg line="install" />
		</exec>
	</target>
	
	<target name="portal.version.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.version.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>

	<target name="portal.version.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.version.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${depends.pom}" />
			<arg line="dependency:copy-dependencies" />
		</exec>
	</target>

	<target name="all" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="clean install" />
		</exec>
	</target>

	<target name="all.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
	</target>

	<target name="clean" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="clean" />
		</exec>
	</target>

	<target name="mvn_env">
		<condition property="mvn" value="mvn.bat">
			<os family="dos" />
		</condition>
		<condition property="mvn" value="mvn">
			<not>
				<isset property="mvn" />
			</not>
		</condition>
	</target>
</project>