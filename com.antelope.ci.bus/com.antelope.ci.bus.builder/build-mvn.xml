<?xml version="1.0" encoding="UTF-8"?>
<!-- 
	invoke maven script of ant
	blueantelope blueantelope@gmail.com
	2013-08-19 
==================================================


==================================================
-->
<project name="maven script" basedir=".">
	<property file="build.properties" />

	<!-- com.antelope.ci.bus.framework -->
	<target name="framework.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="framework.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.common -->
	<target name="common.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="common.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.common.test -->
	<target name="common.test.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.test.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="common.test.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.test.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.osgi -->
	<target name="osgi.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="osgi.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.logger -->
	<target name="logger.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="logger.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="logger.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>

	<!-- com.antelope.ci.bus -->
	<target name="bus.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.bus.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="bus.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.bus.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	
	<!--
		com.antelope.ci.bus.engine
		engine projects
	-->
	<!-- com.antelope.ci.bus.engine.model -->
	<target name="engine.model.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.model.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.model.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.model.user -->
	<target name="engine.model.user.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.user.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.model.user.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.user.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.model.user.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.user.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>

	<!-- com.antelope.ci.bus.engine.model.project -->
	<target name="engine.model.project.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.project.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.model.project.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.project.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.model.project.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.model.project.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.access.storage -->
	<target name="engine.access.storage.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.access.storage.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.access.storage.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.access.storage.database -->
	<target name="engine.access.storage.database.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.database.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.access.storage.database.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.database.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.access.storage.database.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.database.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.access.storage.flatfile -->
	<target name="engine.access.storage.flatfile.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.flatfile.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.access.storage.flatfile.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.flatfile.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.access.storage.flatfile.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.flatfile.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.access.storage.ldap -->
	<target name="engine.access.storage.ldap.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.ldap.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.access.storage.ldap.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.ldap.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.access.storage.ldap.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.access.storage.ldap.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.manger -->
	<target name="engine.manager.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.manager.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.manager.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.manger.project -->
	<target name="engine.manager.project.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.project.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.manager.project.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.project.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.manager.project.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.project.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.engine.manger.project.realization -->
	<target name="engine.manager.project.realization.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.project.realization.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="engine.manager.project.realization.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.project.realization.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="engine.manager.project.realization.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.engine.manager.project.realization.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	<!--
		end engine projects
	-->
	
	<!-- com.antelope.ci.bus.server -->
	<target name="server.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="server.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="server.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>

	<!-- com.antelope.ci.bus.portal -->
	<target name="portal.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="portal.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="portal.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	<target name="common.test.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.test.pom}" />
			<arg line="install" />
		</exec>
	</target>

	<!-- com.antelope.ci.bus.server.service.userstore.file -->
	<target name="server.service.userstorefile.compile">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.service.userstorefile.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="server.service.userstorefile.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.service.userstorefile.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="server.service.userstorefile.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.service.userstorefile.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.portal.dashboard -->
	<target name="portal.dashboard.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.dashboard.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="portal.dashboard.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.dashboard.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="portal.dashboard.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.dashboard.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.portal.project -->
	<target name="portal.project.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.project.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="portal.project.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.project.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="portal.project.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.project.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.portal.usecase -->
	<target name="portal.usecase.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.usecase.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="portal.usecase.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.usecase.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="portal.usecase.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.usecase.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.portal.target -->
	<target name="portal.target.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.target.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<target name="portal.target.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.target.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="portal.target.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.target.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<!-- com.antelope.ci.bus.portal.version -->
	<target name="portal.version.compile" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.version.pom}" />
			<arg line="install" />
		</exec>
	</target>
	<!-- com.antelope.ci.bus.portal.dashboard -->
	<target name="portal.version.compile.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.version.pom}" />
			<arg line="install ${mvn.notest}" />
		</exec>
	</target>
	<target name="portal.version.depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.version.pom}" />
			<arg line="dependency:copy-dependencies" />
			<arg value="-DexcludeGroupIds=junit" />
		</exec>
	</target>
	
	<target name="depends" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${depends.pom}" />
			<arg line="dependency:copy-dependencies" />
		</exec>
	</target>

	<target name="all" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="clean install" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="clean install" />
		</exec>
	</target>

	<target name="all.notest" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="clean install ${mvn.notest}" />
		</exec>
	</target>

	<target name="clean" depends="mvn_env">
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.common.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.framework.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.osgi.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.logger.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.server.pom}" />
			<arg line="clean" />
		</exec>
		<exec executable="${mvn}" failonerror="true">
			<arg line="-f ${prj.portal.pom}" />
			<arg line="clean" />
		</exec>
	</target>

	<target name="mvn_env">
		<condition property="mvn" value="mvn.bat">
			<os family="dos" />
		</condition>
		<condition property="mvn" value="mvn">
			<not>
				<isset property="mvn" />
			</not>
		</condition>
	</target>
</project>